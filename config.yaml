server:
  port: 8080

auth:
  enabled: false
  api_key: ""

crawler:
  concurrency: 4
  user_agent: "realtime-cpi-bot/0.1 (+https://github.com/JakeFAU/realtime-cpi-crawler)"
  ignore_robots: false
  max_depth_default: 1
  max_pages_default: 10
  queue_depth: 64

http:
  timeout_seconds: 15

headless:
  enabled: false
  max_parallel: 2
  nav_timeout_seconds: 30
  promotion_threshold: 2048

storage:
  backend: "gcs"
  bucket: "rcpi_scrape_bucket"
  prefix: "crawl"
  content_type: "text/html; charset=utf-8"
  local:
    base_dir: "tmp/storage"

database:
  host: ""
  port: 5432
  user: ""
  password: ""
  name: ""
  sslmode: ""
  dsn: "" # optional override; normally derived from host/user/password env vars
  retrieval_table: crawl
  progress_table: job_runs
  stats_table: job_stats
  max_conns: 4
  min_conns: 0
  max_conn_lifetime: 0s

pubsub:
  project_id: "realtime-cpi"
  topic_name: "real-cpi-ai-handoff"

logging:
  development: true

progress:
  enabled: true
  buffer_size: 4096
  sink_timeout_ms: 2000
  log_enabled: false
  batch:
    max_events: 1000
    max_wait_ms: 500

standard_jobs:
  trial_run:
    urls:
      - "https://books.toscrape.com/"
    max_depth: 1
    max_pages: 60
    budget_seconds: 120
    headless_allowed: false
    respect_robots: true
    tags:
      environment: "trial"
